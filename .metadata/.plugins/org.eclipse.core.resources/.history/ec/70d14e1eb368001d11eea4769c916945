package Pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

import dev.failsafe.internal.util.Assert;

public class LoginPage {

	
protected WebDriver driverloginpage;

 
public LoginPage(WebDriver driver) {   // konsturktor
	this.driverloginpage=driver;  //  musisz mu przekazac drivera z LoginDemo klasy do Loginpage bo nie bedzie instancji tutaj
	
	if(!driverloginpage.getTitle().equals("TestProject Demo")) {
		 throw new IllegalStateException("This is not a Login Page");
	}
}
	
private By username= By.id("name");
private By password=By.id("password");
private By button_login=By.id("login");
private By button_logout= By.id("logout");
 

public void EnterUserName(String Username) {
	driverloginpage.findElement(username).sendKeys(Username);
}

public void EnterPassword(String EnterPassword) {
	
	WebElement firstResult = new WebDriverWait(driverloginpage,java.time.Duration.ofSeconds(3))
	        .until(ExpectedConditions.elementToBeClickable(password));
	        firstResult.sendKeys(EnterPassword);
}

public void ClickonLoginButton() {
	driverloginpage.findElement(button_login).click();
}

public void CheckLogoutisDisplayed() {
	
	boolean logincheck=driverloginpage.findElement(button_logout).isDisplayed();
	Assert.isTrue(logincheck, "niepoprawne zalogowanie");
}

}
